/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v4.2.11 - 2020-09-09
 *  Desc: Include this file in any page being loaded into an iframe
 *        to force the iframe to resize to the content size.
 *  Requires: iframeResizer.min.js on host page.
 *  Copyright: (c) 2020 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */
!function (u) {
  if ("undefined" != typeof window) {
    var n = !0,
        o = 10,
        i = "",
        r = 0,
        a = "",
        t = null,
        c = "",
        s = !1,
        d = {
      resize: 1,
      click: 1
    },
        l = 128,
        f = !0,
        m = 1,
        h = "bodyOffset",
        g = h,
        p = !0,
        v = "",
        y = {},
        w = 32,
        b = null,
        T = !1,
        E = "[iFrameSizer]",
        O = E.length,
        S = "",
        M = {
      max: 1,
      min: 1,
      bodyScroll: 1,
      documentElementScroll: 1
    },
        I = "child",
        N = !0,
        A = window.parent,
        C = "*",
        z = 0,
        k = !1,
        e = null,
        R = 16,
        x = 1,
        L = "scroll",
        F = L,
        P = window,
        D = function () {
      re("onMessage function not defined");
    },
        j = function () {},
        q = function () {},
        H = {
      height: function () {
        return re("Custom height calculation function not defined"), document.documentElement.offsetHeight;
      },
      width: function () {
        return re("Custom width calculation function not defined"), document.body.scrollWidth;
      }
    },
        W = {},
        B = !1;

    try {
      var J = Object.create({}, {
        passive: {
          get: function () {
            B = !0;
          }
        }
      });
      window.addEventListener("test", ee, J), window.removeEventListener("test", ee, J);
    } catch (e) {}

    var U,
        V,
        K,
        Q,
        X,
        Y,
        G = Date.now || function () {
      return new Date().getTime();
    },
        Z = {
      bodyOffset: function () {
        return document.body.offsetHeight + pe("marginTop") + pe("marginBottom");
      },
      offset: function () {
        return Z.bodyOffset();
      },
      bodyScroll: function () {
        return document.body.scrollHeight;
      },
      custom: function () {
        return H.height();
      },
      documentElementOffset: function () {
        return document.documentElement.offsetHeight;
      },
      documentElementScroll: function () {
        return document.documentElement.scrollHeight;
      },
      max: function () {
        return Math.max.apply(null, ye(Z));
      },
      min: function () {
        return Math.min.apply(null, ye(Z));
      },
      grow: function () {
        return Z.max();
      },
      lowestElement: function () {
        return Math.max(Z.bodyOffset() || Z.documentElementOffset(), ve("bottom", be()));
      },
      taggedElement: function () {
        return we("bottom", "data-iframe-height");
      }
    },
        $ = {
      bodyScroll: function () {
        return document.body.scrollWidth;
      },
      bodyOffset: function () {
        return document.body.offsetWidth;
      },
      custom: function () {
        return H.width();
      },
      documentElementScroll: function () {
        return document.documentElement.scrollWidth;
      },
      documentElementOffset: function () {
        return document.documentElement.offsetWidth;
      },
      scroll: function () {
        return Math.max($.bodyScroll(), $.documentElementScroll());
      },
      max: function () {
        return Math.max.apply(null, ye($));
      },
      min: function () {
        return Math.min.apply(null, ye($));
      },
      rightMostElement: function () {
        return ve("right", be());
      },
      taggedElement: function () {
        return we("right", "data-iframe-width");
      }
    },
        _ = (U = Te, X = null, Y = 0, function () {
      var e = G(),
          t = R - (e - (Y = Y || e));
      return V = this, K = arguments, t <= 0 || R < t ? (X && (clearTimeout(X), X = null), Y = e, Q = U.apply(V, K), X || (V = K = null)) : X = X || setTimeout(Ee, t), Q;
    });

    te(window, "message", function (t) {
      var n = {
        init: function () {
          v = t.data, A = t.source, ae(), f = !1, setTimeout(function () {
            p = !1;
          }, l);
        },
        reset: function () {
          p ? ie("Page reset ignored by init") : (ie("Page size reset by host page"), Me("resetPage"));
        },
        resize: function () {
          Oe("resizeParent", "Parent window requested size check");
        },
        moveToAnchor: function () {
          y.findTarget(i());
        },
        inPageLink: function () {
          this.moveToAnchor();
        },
        pageInfo: function () {
          var e = i();
          ie("PageInfoFromParent called from parent: " + e), q(JSON.parse(e)), ie(" --");
        },
        message: function () {
          var e = i();
          ie("onMessage called from parent: " + e), D(JSON.parse(e)), ie(" --");
        }
      };

      function o() {
        return t.data.split("]")[1].split(":")[0];
      }

      function i() {
        return t.data.substr(t.data.indexOf(":") + 1);
      }

      function r() {
        return t.data.split(":")[2] in {
          true: 1,
          false: 1
        };
      }

      function e() {
        var e = o();
        e in n ? n[e]() : ("undefined" == typeof module || !module.exports) && "iFrameResize" in window || "jQuery" in window && "iFrameResize" in window.jQuery.prototype || r() || re("Unexpected message (" + t.data + ")");
      }

      E === ("" + t.data).substr(0, O) && (!1 === f ? e() : r() ? n.init() : ie('Ignored message of type "' + o() + '". Received before initialization.'));
    }), te(window, "readystatechange", Ae), Ae();
  }

  function ee() {}

  function te(e, t, n, o) {
    e.addEventListener(t, n, !!B && (o || {}));
  }

  function ne(e) {
    return e.charAt(0).toUpperCase() + e.slice(1);
  }

  function oe(e) {
    return E + "[" + S + "] " + e;
  }

  function ie(e) {
    T && "object" == typeof window.console && console.log(oe(e));
  }

  function re(e) {
    "object" == typeof window.console && console.warn(oe(e));
  }

  function ae() {
    !function () {
      function e(e) {
        return "true" === e;
      }

      var t = v.substr(O).split(":");
      S = t[0], r = u !== t[1] ? Number(t[1]) : r, s = u !== t[2] ? e(t[2]) : s, T = u !== t[3] ? e(t[3]) : T, w = u !== t[4] ? Number(t[4]) : w, n = u !== t[6] ? e(t[6]) : n, a = t[7], g = u !== t[8] ? t[8] : g, i = t[9], c = t[10], z = u !== t[11] ? Number(t[11]) : z, y.enable = u !== t[12] && e(t[12]), I = u !== t[13] ? t[13] : I, F = u !== t[14] ? t[14] : F;
    }(), ie("Initialising iFrame (" + window.location.href + ")"), function () {
      function e(e, t) {
        return "function" == typeof e && (ie("Setup custom " + t + "CalcMethod"), H[t] = e, e = "custom"), e;
      }

      "iFrameResizer" in window && Object === window.iFrameResizer.constructor && (function () {
        var e = window.iFrameResizer;
        ie("Reading data from page: " + JSON.stringify(e)), Object.keys(e).forEach(ue, e), D = "onMessage" in e ? e.onMessage : D, j = "onReady" in e ? e.onReady : j, C = "targetOrigin" in e ? e.targetOrigin : C, g = "heightCalculationMethod" in e ? e.heightCalculationMethod : g, F = "widthCalculationMethod" in e ? e.widthCalculationMethod : F;
      }(), g = e(g, "height"), F = e(F, "width"));
      ie("TargetOrigin for parent set to: " + C);
    }(), function () {
      u === a && (a = r + "px");
      ce("margin", function (e, t) {
        -1 !== t.indexOf("-") && (re("Negative CSS value ignored for " + e), t = "");
        return t;
      }("margin", a));
    }(), ce("background", i), ce("padding", c), function () {
      var e = document.createElement("div");
      e.style.clear = "both", e.style.display = "block", e.style.height = "0", document.body.appendChild(e);
    }(), fe(), me(), document.documentElement.style.height = "", document.body.style.height = "", ie('HTML & body height set to "auto"'), ie("Enable public methods"), P.parentIFrame = {
      autoResize: function (e) {
        return !0 === e && !1 === n ? (n = !0, he()) : !1 === e && !0 === n && (n = !1, de("remove"), null !== t && t.disconnect(), clearInterval(b)), Ne(0, 0, "autoResize", JSON.stringify(n)), n;
      },
      close: function () {
        Ne(0, 0, "close");
      },
      getId: function () {
        return S;
      },
      getPageInfo: function (e) {
        "function" == typeof e ? (q = e, Ne(0, 0, "pageInfo")) : (q = function () {}, Ne(0, 0, "pageInfoStop"));
      },
      moveToAnchor: function (e) {
        y.findTarget(e);
      },
      reset: function () {
        Ie("parentIFrame.reset");
      },
      scrollTo: function (e, t) {
        Ne(t, e, "scrollTo");
      },
      scrollToOffset: function (e, t) {
        Ne(t, e, "scrollToOffset");
      },
      sendMessage: function (e, t) {
        Ne(0, 0, "message", JSON.stringify(e), t);
      },
      setHeightCalculationMethod: function (e) {
        g = e, fe();
      },
      setWidthCalculationMethod: function (e) {
        F = e, me();
      },
      setTargetOrigin: function (e) {
        ie("Set targetOrigin: " + e), C = e;
      },
      size: function (e, t) {
        Oe("size", "parentIFrame.size(" + ((e || "") + (t ? "," + t : "")) + ")", e, t);
      }
    }, he(), y = function () {
      function r(e) {
        var t = e.getBoundingClientRect(),
            n = {
          x: window.pageXOffset !== u ? window.pageXOffset : document.documentElement.scrollLeft,
          y: window.pageYOffset !== u ? window.pageYOffset : document.documentElement.scrollTop
        };
        return {
          x: parseInt(t.left, 10) + parseInt(n.x, 10),
          y: parseInt(t.top, 10) + parseInt(n.y, 10)
        };
      }

      function n(e) {
        var t,
            n = e.split("#")[1] || e,
            o = decodeURIComponent(n),
            i = document.getElementById(o) || document.getElementsByName(o)[0];
        u !== i ? (t = r(i), ie("Moving to in page link (#" + n + ") at x: " + t.x + " y: " + t.y), Ne(t.y, t.x, "scrollToOffset")) : (ie("In page link (#" + n + ") not found in iFrame, so sending to parent"), Ne(0, 0, "inPageLink", "#" + n));
      }

      function e() {
        var e = window.location.hash,
            t = window.location.href;
        "" !== e && "#" !== e && n(t);
      }

      function t() {
        Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'), function (e) {
          "#" !== e.getAttribute("href") && te(e, "click", function (e) {
            e.preventDefault(), n(this.getAttribute("href"));
          });
        });
      }

      y.enable ? Array.prototype.forEach && document.querySelectorAll ? (ie("Setting up location.hash handlers"), t(), te(window, "hashchange", e), setTimeout(e, l)) : re("In page linking not fully supported in this browser! (See README.md for IE8 workaround)") : ie("In page linking not enabled");
      return {
        findTarget: n
      };
    }(), Oe("init", "Init message from host page"), j();
  }

  function ue(e) {
    var t = e.split("Callback");

    if (2 === t.length) {
      var n = "on" + t[0].charAt(0).toUpperCase() + t[0].slice(1);
      this[n] = this[e], delete this[e], re("Deprecated: '" + e + "' has been renamed '" + n + "'. The old method will be removed in the next major version.");
    }
  }

  function ce(e, t) {
    u !== t && "" !== t && "null" !== t && ie("Body " + e + ' set to "' + (document.body.style[e] = t) + '"');
  }

  function se(n) {
    var e = {
      add: function (e) {
        function t() {
          Oe(n.eventName, n.eventType);
        }

        W[e] = t, te(window, e, t, {
          passive: !0
        });
      },
      remove: function (e) {
        var t = W[e];
        delete W[e], function (e, t, n) {
          e.removeEventListener(t, n, !1);
        }(window, e, t);
      }
    };
    n.eventNames && Array.prototype.map ? (n.eventName = n.eventNames[0], n.eventNames.map(e[n.method])) : e[n.method](n.eventName), ie(ne(n.method) + " event listener: " + n.eventType);
  }

  function de(e) {
    se({
      method: e,
      eventType: "Animation Start",
      eventNames: ["animationstart", "webkitAnimationStart"]
    }), se({
      method: e,
      eventType: "Animation Iteration",
      eventNames: ["animationiteration", "webkitAnimationIteration"]
    }), se({
      method: e,
      eventType: "Animation End",
      eventNames: ["animationend", "webkitAnimationEnd"]
    }), se({
      method: e,
      eventType: "Input",
      eventName: "input"
    }), se({
      method: e,
      eventType: "Mouse Up",
      eventName: "mouseup"
    }), se({
      method: e,
      eventType: "Mouse Down",
      eventName: "mousedown"
    }), se({
      method: e,
      eventType: "Orientation Change",
      eventName: "orientationchange"
    }), se({
      method: e,
      eventType: "Print",
      eventName: ["afterprint", "beforeprint"]
    }), se({
      method: e,
      eventType: "Ready State Change",
      eventName: "readystatechange"
    }), se({
      method: e,
      eventType: "Touch Start",
      eventName: "touchstart"
    }), se({
      method: e,
      eventType: "Touch End",
      eventName: "touchend"
    }), se({
      method: e,
      eventType: "Touch Cancel",
      eventName: "touchcancel"
    }), se({
      method: e,
      eventType: "Transition Start",
      eventNames: ["transitionstart", "webkitTransitionStart", "MSTransitionStart", "oTransitionStart", "otransitionstart"]
    }), se({
      method: e,
      eventType: "Transition Iteration",
      eventNames: ["transitioniteration", "webkitTransitionIteration", "MSTransitionIteration", "oTransitionIteration", "otransitioniteration"]
    }), se({
      method: e,
      eventType: "Transition End",
      eventNames: ["transitionend", "webkitTransitionEnd", "MSTransitionEnd", "oTransitionEnd", "otransitionend"]
    }), "child" === I && se({
      method: e,
      eventType: "IFrame Resized",
      eventName: "resize"
    });
  }

  function le(e, t, n, o) {
    return t !== e && (e in n || (re(e + " is not a valid option for " + o + "CalculationMethod."), e = t), ie(o + ' calculation method set to "' + e + '"')), e;
  }

  function fe() {
    g = le(g, h, Z, "height");
  }

  function me() {
    F = le(F, L, $, "width");
  }

  function he() {
    !0 === n ? (de("add"), function () {
      var e = w < 0;
      window.MutationObserver || window.WebKitMutationObserver ? e ? ge() : t = function () {
        function t(e) {
          function t(e) {
            !1 === e.complete && (ie("Attach listeners to " + e.src), e.addEventListener("load", i, !1), e.addEventListener("error", r, !1), u.push(e));
          }

          "attributes" === e.type && "src" === e.attributeName ? t(e.target) : "childList" === e.type && Array.prototype.forEach.call(e.target.querySelectorAll("img"), t);
        }

        function o(e) {
          ie("Remove listeners from " + e.src), e.removeEventListener("load", i, !1), e.removeEventListener("error", r, !1), function (e) {
            u.splice(u.indexOf(e), 1);
          }(e);
        }

        function n(e, t, n) {
          o(e.target), Oe(t, n + ": " + e.target.src);
        }

        function i(e) {
          n(e, "imageLoad", "Image loaded");
        }

        function r(e) {
          n(e, "imageLoadFailed", "Image load failed");
        }

        function a(e) {
          Oe("mutationObserver", "mutationObserver: " + e[0].target + " " + e[0].type), e.forEach(t);
        }

        var u = [],
            c = window.MutationObserver || window.WebKitMutationObserver,
            s = function () {
          var e = document.querySelector("body");
          return s = new c(a), ie("Create body MutationObserver"), s.observe(e, {
            attributes: !0,
            attributeOldValue: !1,
            characterData: !0,
            characterDataOldValue: !1,
            childList: !0,
            subtree: !0
          }), s;
        }();

        return {
          disconnect: function () {
            "disconnect" in s && (ie("Disconnect body MutationObserver"), s.disconnect(), u.forEach(o));
          }
        };
      }() : (ie("MutationObserver not supported in this browser!"), ge());
    }()) : ie("Auto Resize disabled");
  }

  function ge() {
    0 !== w && (ie("setInterval: " + w + "ms"), b = setInterval(function () {
      Oe("interval", "setInterval: " + w);
    }, Math.abs(w)));
  }

  function pe(e, t) {
    var n = 0;
    return t = t || document.body, n = null !== (n = document.defaultView.getComputedStyle(t, null)) ? n[e] : 0, parseInt(n, o);
  }

  function ve(e, t) {
    for (var n = t.length, o = 0, i = 0, r = ne(e), a = G(), u = 0; u < n; u++) i < (o = t[u].getBoundingClientRect()[e] + pe("margin" + r, t[u])) && (i = o);

    return a = G() - a, ie("Parsed " + n + " HTML elements"), ie("Element position calculated in " + a + "ms"), function (e) {
      R / 2 < e && ie("Event throttle increased to " + (R = 2 * e) + "ms");
    }(a), i;
  }

  function ye(e) {
    return [e.bodyOffset(), e.bodyScroll(), e.documentElementOffset(), e.documentElementScroll()];
  }

  function we(e, t) {
    var n = document.querySelectorAll("[" + t + "]");
    return 0 === n.length && (re("No tagged elements (" + t + ") found on page"), document.querySelectorAll("body *")), ve(e, n);
  }

  function be() {
    return document.querySelectorAll("body *");
  }

  function Te(e, t, n, o) {
    var i, r;

    function a(e, t) {
      return !(Math.abs(e - t) <= z);
    }

    i = u !== n ? n : Z[g](), r = u !== o ? o : $[F](), a(m, i) || s && a(x, r) || "init" === e ? (Se(), Ne(m = i, x = r, e)) : e in {
      init: 1,
      interval: 1,
      size: 1
    } || !(g in M || s && F in M) ? e in {
      interval: 1
    } || ie("No change in size detected") : Ie(t);
  }

  function Ee() {
    Y = G(), X = null, Q = U.apply(V, K), X || (V = K = null);
  }

  function Oe(e, t, n, o) {
    k && e in d ? ie("Trigger event cancelled: " + e) : (e in {
      reset: 1,
      resetPage: 1,
      init: 1
    } || ie("Trigger event: " + t), "init" === e ? Te(e, t, n, o) : _(e, t, n, o));
  }

  function Se() {
    k || (k = !0, ie("Trigger event lock on")), clearTimeout(e), e = setTimeout(function () {
      k = !1, ie("Trigger event lock off"), ie("--");
    }, l);
  }

  function Me(e) {
    m = Z[g](), x = $[F](), Ne(m, x, e);
  }

  function Ie(e) {
    var t = g;
    g = h, ie("Reset trigger event: " + e), Se(), Me("reset"), g = t;
  }

  function Ne(e, t, n, o, i) {
    var r;
    !0 === N && (u === i ? i = C : ie("Message targetOrigin: " + i), ie("Sending message to host page (" + (r = S + ":" + (e + ":" + t) + ":" + n + (u !== o ? ":" + o : "")) + ")"), A.postMessage(E + r, i));
  }

  function Ae() {
    "loading" !== document.readyState && window.parent.postMessage("[iFrameResizerChild]Ready", "*");
  }
}();
/*! iFrame Resizer (iframeSizer.min.js ) - v4.2.11 - 2020-09-09
 *  Desc: Force cross domain iframes to size to content.
 *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame.
 *  Copyright: (c) 2020 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */
!function (l) {
  if ("undefined" != typeof window) {
    var e,
        m = 0,
        g = !1,
        o = !1,
        v = "message".length,
        I = "[iFrameSizer]",
        x = I.length,
        F = null,
        r = window.requestAnimationFrame,
        h = {
      max: 1,
      scroll: 1,
      bodyScroll: 1,
      documentElementScroll: 1
    },
        M = {},
        i = null,
        w = {
      autoResize: !0,
      bodyBackground: null,
      bodyMargin: null,
      bodyMarginV1: 8,
      bodyPadding: null,
      checkOrigin: !0,
      inPageLinks: !1,
      enablePublicMethods: !0,
      heightCalculationMethod: "bodyOffset",
      id: "iFrameResizer",
      interval: 32,
      log: !1,
      maxHeight: 1 / 0,
      maxWidth: 1 / 0,
      minHeight: 0,
      minWidth: 0,
      resizeFrom: "parent",
      scrolling: !1,
      sizeHeight: !0,
      sizeWidth: !1,
      warningTimeout: 5e3,
      tolerance: 0,
      widthCalculationMethod: "scroll",
      onClose: function () {
        return !0;
      },
      onClosed: function () {},
      onInit: function () {},
      onMessage: function () {
        E("onMessage function not defined");
      },
      onResized: function () {},
      onScroll: function () {
        return !0;
      }
    },
        k = {};
    window.jQuery && ((e = window.jQuery).fn ? e.fn.iFrameResize || (e.fn.iFrameResize = function (i) {
      return this.filter("iframe").each(function (e, n) {
        d(n, i);
      }).end();
    }) : T("", "Unable to bind to jQuery, it is not fully loaded.")), "function" == typeof define && define.amd ? define([], q) : "object" == typeof module && "object" == typeof module.exports && (module.exports = q()), window.iFrameResize = window.iFrameResize || q();
  }

  function p() {
    return window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
  }

  function z(e, n, i) {
    e.addEventListener(n, i, !1);
  }

  function O(e, n, i) {
    e.removeEventListener(n, i, !1);
  }

  function a(e) {
    return I + "[" + function (e) {
      var n = "Host page: " + e;
      return window.top !== window.self && (n = window.parentIFrame && window.parentIFrame.getId ? window.parentIFrame.getId() + ": " + e : "Nested host page: " + e), n;
    }(e) + "]";
  }

  function t(e) {
    return M[e] ? M[e].log : g;
  }

  function R(e, n) {
    s("log", e, n, t(e));
  }

  function T(e, n) {
    s("info", e, n, t(e));
  }

  function E(e, n) {
    s("warn", e, n, !0);
  }

  function s(e, n, i, t) {
    !0 === t && "object" == typeof window.console && console[e](a(n), i);
  }

  function n(n) {
    function e() {
      i("Height"), i("Width"), A(function () {
        P(b), S(y), d("onResized", b);
      }, b, "init");
    }

    function i(e) {
      var n = Number(M[y]["max" + e]),
          i = Number(M[y]["min" + e]),
          t = e.toLowerCase(),
          o = Number(b[t]);
      R(y, "Checking " + t + " is in range " + i + "-" + n), o < i && (o = i, R(y, "Set " + t + " to min value")), n < o && (o = n, R(y, "Set " + t + " to max value")), b[t] = "" + o;
    }

    function t(e) {
      return p.substr(p.indexOf(":") + v + e);
    }

    function a(e, n) {
      !function (e, n, i) {
        k[i] || (k[i] = setTimeout(function () {
          k[i] = null, e();
        }, n));
      }(function () {
        B("Send Page Info", "pageInfo:" + function () {
          var e = document.body.getBoundingClientRect(),
              n = b.iframe.getBoundingClientRect();
          return JSON.stringify({
            iframeHeight: n.height,
            iframeWidth: n.width,
            clientHeight: Math.max(document.documentElement.clientHeight, window.innerHeight || 0),
            clientWidth: Math.max(document.documentElement.clientWidth, window.innerWidth || 0),
            offsetTop: parseInt(n.top - e.top, 10),
            offsetLeft: parseInt(n.left - e.left, 10),
            scrollTop: window.pageYOffset,
            scrollLeft: window.pageXOffset,
            documentHeight: document.documentElement.clientHeight,
            documentWidth: document.documentElement.clientWidth,
            windowHeight: window.innerHeight,
            windowWidth: window.innerWidth
          });
        }(), e, n);
      }, 32, n);
    }

    function r(e) {
      var n = e.getBoundingClientRect();
      return N(y), {
        x: Math.floor(Number(n.left) + Number(F.x)),
        y: Math.floor(Number(n.top) + Number(F.y))
      };
    }

    function o(e) {
      var n = e ? r(b.iframe) : {
        x: 0,
        y: 0
      },
          i = {
        x: Number(b.width) + n.x,
        y: Number(b.height) + n.y
      };
      R(y, "Reposition requested from iFrame (offset x:" + n.x + " y:" + n.y + ")"), window.top !== window.self ? window.parentIFrame ? window.parentIFrame["scrollTo" + (e ? "Offset" : "")](i.x, i.y) : E(y, "Unable to scroll to requested position, window.parentIFrame not found") : (F = i, s(), R(y, "--"));
    }

    function s() {
      !1 !== d("onScroll", F) ? S(y) : H();
    }

    function d(e, n) {
      return W(y, e, n);
    }

    var c,
        u,
        f,
        l,
        m,
        g,
        h,
        w,
        p = n.data,
        b = {},
        y = null;
    "[iFrameResizerChild]Ready" === p ? function () {
      for (var e in M) B("iFrame requested init", L(e), M[e].iframe, e);
    }() : I === ("" + p).substr(0, x) && p.substr(x).split(":")[0] in M ? (m = p.substr(x).split(":"), g = m[1] ? parseInt(m[1], 10) : 0, h = M[m[0]] && M[m[0]].iframe, w = getComputedStyle(h), b = {
      iframe: h,
      id: m[0],
      height: g + function (e) {
        if ("border-box" !== e.boxSizing) return 0;
        var n = e.paddingTop ? parseInt(e.paddingTop, 10) : 0,
            i = e.paddingBottom ? parseInt(e.paddingBottom, 10) : 0;
        return n + i;
      }(w) + function (e) {
        if ("border-box" !== e.boxSizing) return 0;
        var n = e.borderTopWidth ? parseInt(e.borderTopWidth, 10) : 0,
            i = e.borderBottomWidth ? parseInt(e.borderBottomWidth, 10) : 0;
        return n + i;
      }(w),
      width: m[2],
      type: m[3]
    }, y = b.id, M[y] && (M[y].loaded = !0), (l = b.type in {
      true: 1,
      false: 1,
      undefined: 1
    }) && R(y, "Ignoring init message from meta parent page"), !l && (f = !0, M[u = y] || (f = !1, E(b.type + " No settings for " + u + ". Message was: " + p)), f) && (R(y, "Received: " + p), c = !0, null === b.iframe && (E(y, "IFrame (" + b.id + ") not found"), c = !1), c && function () {
      var e,
          i = n.origin,
          t = M[y] && M[y].checkOrigin;
      if (t && "" + i != "null" && !(t.constructor === Array ? function () {
        var e = 0,
            n = !1;

        for (R(y, "Checking connection is from allowed list of origins: " + t); e < t.length; e++) if (t[e] === i) {
          n = !0;
          break;
        }

        return n;
      }() : (e = M[y] && M[y].remoteHost, R(y, "Checking connection is from: " + e), i === e))) throw new Error("Unexpected message received from: " + i + " for " + b.iframe.id + ". Message was: " + n.data + ". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");
      return !0;
    }() && function () {
      switch (M[y] && M[y].firstRun && M[y] && (M[y].firstRun = !1), b.type) {
        case "close":
          C(b.iframe);
          break;

        case "message":
          !function (e) {
            R(y, "onMessage passed: {iframe: " + b.iframe.id + ", message: " + e + "}"), d("onMessage", {
              iframe: b.iframe,
              message: JSON.parse(e)
            }), R(y, "--");
          }(t(6));
          break;

        case "autoResize":
          M[y].autoResize = JSON.parse(t(9));
          break;

        case "scrollTo":
          o(!1);
          break;

        case "scrollToOffset":
          o(!0);
          break;

        case "pageInfo":
          a(M[y] && M[y].iframe, y), function () {
            function e(n, i) {
              function t() {
                M[r] ? a(M[r].iframe, r) : o();
              }

              ["scroll", "resize"].forEach(function (e) {
                R(r, n + e + " listener for sendPageInfo"), i(window, e, t);
              });
            }

            function o() {
              e("Remove ", O);
            }

            var r = y;
            e("Add ", z), M[r] && (M[r].stopPageInfo = o);
          }();
          break;

        case "pageInfoStop":
          M[y] && M[y].stopPageInfo && (M[y].stopPageInfo(), delete M[y].stopPageInfo);
          break;

        case "inPageLink":
          !function (e) {
            var n,
                i = e.split("#")[1] || "",
                t = decodeURIComponent(i),
                o = document.getElementById(t) || document.getElementsByName(t)[0];
            o ? (n = r(o), R(y, "Moving to in page link (#" + i + ") at x: " + n.x + " y: " + n.y), F = {
              x: n.x,
              y: n.y
            }, s(), R(y, "--")) : window.top !== window.self ? window.parentIFrame ? window.parentIFrame.moveToAnchor(i) : R(y, "In page link #" + i + " not found and window.parentIFrame not found") : R(y, "In page link #" + i + " not found");
          }(t(9));
          break;

        case "reset":
          j(b);
          break;

        case "init":
          e(), d("onInit", b.iframe);
          break;

        default:
          e();
      }
    }())) : T(y, "Ignored: " + p);
  }

  function W(e, n, i) {
    var t = null,
        o = null;

    if (M[e]) {
      if ("function" != typeof (t = M[e][n])) throw new TypeError(n + " on iFrame[" + e + "] is not a function");
      o = t(i);
    }

    return o;
  }

  function b(e) {
    var n = e.id;
    delete M[n];
  }

  function C(e) {
    var n = e.id;

    if (!1 !== W(n, "onClose", n)) {
      R(n, "Removing iFrame: " + n);

      try {
        e.parentNode && e.parentNode.removeChild(e);
      } catch (e) {
        E(e);
      }

      W(n, "onClosed", n), R(n, "--"), b(e);
    } else R(n, "Close iframe cancelled by onClose event");
  }

  function N(e) {
    null === F && R(e, "Get page position: " + (F = {
      x: window.pageXOffset !== l ? window.pageXOffset : document.documentElement.scrollLeft,
      y: window.pageYOffset !== l ? window.pageYOffset : document.documentElement.scrollTop
    }).x + "," + F.y);
  }

  function S(e) {
    null !== F && (window.scrollTo(F.x, F.y), R(e, "Set page position: " + F.x + "," + F.y), H());
  }

  function H() {
    F = null;
  }

  function j(e) {
    R(e.id, "Size reset requested by " + ("init" === e.type ? "host page" : "iFrame")), N(e.id), A(function () {
      P(e), B("reset", "reset", e.iframe, e.id);
    }, e, "reset");
  }

  function P(n) {
    function i(e) {
      o || "0" !== n[e] || (o = !0, R(t, "Hidden iFrame detected, creating visibility listener"), function () {
        function n() {
          Object.keys(M).forEach(function (e) {
            !function (n) {
              function e(e) {
                return "0px" === (M[n] && M[n].iframe.style[e]);
              }

              M[n] && null !== M[n].iframe.offsetParent && (e("height") || e("width")) && B("Visibility change", "resize", M[n].iframe, n);
            }(e);
          });
        }

        function i(e) {
          R("window", "Mutation observed: " + e[0].target + " " + e[0].type), c(n, 16);
        }

        var t = p();
        t && function () {
          var e = document.querySelector("body");
          new t(i).observe(e, {
            attributes: !0,
            attributeOldValue: !1,
            characterData: !0,
            characterDataOldValue: !1,
            childList: !0,
            subtree: !0
          });
        }();
      }());
    }

    function e(e) {
      !function (e) {
        n.id ? (n.iframe.style[e] = n[e] + "px", R(n.id, "IFrame (" + t + ") " + e + " set to " + n[e] + "px")) : R("undefined", "messageData id not set");
      }(e), i(e);
    }

    var t = n.iframe.id;
    M[t] && (M[t].sizeHeight && e("height"), M[t].sizeWidth && e("width"));
  }

  function A(e, n, i) {
    i !== n.type && r && !window.jasmine ? (R(n.id, "Requesting animation frame"), r(e)) : e();
  }

  function B(e, n, i, t, o) {
    var r,
        a = !1;
    t = t || i.id, M[t] && (i && "contentWindow" in i && null !== i.contentWindow ? (r = M[t] && M[t].targetOrigin, R(t, "[" + e + "] Sending msg to iframe[" + t + "] (" + n + ") targetOrigin: " + r), i.contentWindow.postMessage(I + n, r)) : E(t, "[" + e + "] IFrame(" + t + ") not found"), o && M[t] && M[t].warningTimeout && (M[t].msgTimeout = setTimeout(function () {
      !M[t] || M[t].loaded || a || (a = !0, E(t, "IFrame has not responded within " + M[t].warningTimeout / 1e3 + " seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."));
    }, M[t].warningTimeout)));
  }

  function L(e) {
    return e + ":" + M[e].bodyMarginV1 + ":" + M[e].sizeWidth + ":" + M[e].log + ":" + M[e].interval + ":" + M[e].enablePublicMethods + ":" + M[e].autoResize + ":" + M[e].bodyMargin + ":" + M[e].heightCalculationMethod + ":" + M[e].bodyBackground + ":" + M[e].bodyPadding + ":" + M[e].tolerance + ":" + M[e].inPageLinks + ":" + M[e].resizeFrom + ":" + M[e].widthCalculationMethod;
  }

  function d(i, e) {
    function n(e) {
      var n = e.split("Callback");

      if (2 === n.length) {
        var i = "on" + n[0].charAt(0).toUpperCase() + n[0].slice(1);
        this[i] = this[e], delete this[e], E(c, "Deprecated: '" + e + "' has been renamed '" + i + "'. The old method will be removed in the next major version.");
      }
    }

    var t,
        o,
        r,
        a,
        s,
        d,
        c = ("" === (o = i.id) && (i.id = (t = e && e.id || w.id + m++, null !== document.getElementById(t) && (t += m++), o = t), g = (e || {}).log, R(o, "Added missing iframe ID: " + o + " (" + i.src + ")")), o);

    function u(e) {
      1 / 0 !== M[c][e] && 0 !== M[c][e] && (i.style[e] = M[c][e] + "px", R(c, "Set " + e + " = " + M[c][e] + "px"));
    }

    function f(e) {
      if (M[c]["min" + e] > M[c]["max" + e]) throw new Error("Value for min" + e + " can not be greater than max" + e);
    }

    c in M && "iFrameResizer" in i ? E(c, "Ignored iFrame, already setup.") : (d = (d = e) || {}, M[c] = {
      firstRun: !0,
      iframe: i,
      remoteHost: i.src && i.src.split("/").slice(0, 3).join("/")
    }, function (e) {
      if ("object" != typeof e) throw new TypeError("Options is not an object");
    }(d), Object.keys(d).forEach(n, d), function (e) {
      for (var n in w) Object.prototype.hasOwnProperty.call(w, n) && (M[c][n] = Object.prototype.hasOwnProperty.call(e, n) ? e[n] : w[n]);
    }(d), M[c] && (M[c].targetOrigin = !0 === M[c].checkOrigin ? function (e) {
      return "" === e || null !== e.match(/^(about:blank|javascript:|file:\/\/)/) ? "*" : e;
    }(M[c].remoteHost) : "*"), function () {
      switch (R(c, "IFrame scrolling " + (M[c] && M[c].scrolling ? "enabled" : "disabled") + " for " + c), i.style.overflow = !1 === (M[c] && M[c].scrolling) ? "hidden" : "auto", M[c] && M[c].scrolling) {
        case "omit":
          break;

        case !0:
          i.scrolling = "yes";
          break;

        case !1:
          i.scrolling = "no";
          break;

        default:
          i.scrolling = M[c] ? M[c].scrolling : "no";
      }
    }(), f("Height"), f("Width"), u("maxHeight"), u("minHeight"), u("maxWidth"), u("minWidth"), "number" != typeof (M[c] && M[c].bodyMargin) && "0" !== (M[c] && M[c].bodyMargin) || (M[c].bodyMarginV1 = M[c].bodyMargin, M[c].bodyMargin = M[c].bodyMargin + "px"), r = L(c), (s = p()) && (a = s, i.parentNode && new a(function (e) {
      e.forEach(function (e) {
        Array.prototype.slice.call(e.removedNodes).forEach(function (e) {
          e === i && C(i);
        });
      });
    }).observe(i.parentNode, {
      childList: !0
    })), z(i, "load", function () {
      B("iFrame.onload", r, i, l, !0), function () {
        var e = M[c] && M[c].firstRun,
            n = M[c] && M[c].heightCalculationMethod in h;
        !e && n && j({
          iframe: i,
          height: 0,
          width: 0,
          type: "init"
        });
      }();
    }), B("init", r, i, l, !0), M[c] && (M[c].iframe.iFrameResizer = {
      close: C.bind(null, M[c].iframe),
      removeListeners: b.bind(null, M[c].iframe),
      resize: B.bind(null, "Window resize", "resize", M[c].iframe),
      moveToAnchor: function (e) {
        B("Move to anchor", "moveToAnchor:" + e, M[c].iframe, c);
      },
      sendMessage: function (e) {
        B("Send Message", "message:" + (e = JSON.stringify(e)), M[c].iframe, c);
      }
    }));
  }

  function c(e, n) {
    null === i && (i = setTimeout(function () {
      i = null, e();
    }, n));
  }

  function u() {
    "hidden" !== document.visibilityState && (R("document", "Trigger event: Visiblity change"), c(function () {
      f("Tab Visable", "resize");
    }, 16));
  }

  function f(n, i) {
    Object.keys(M).forEach(function (e) {
      !function (e) {
        return M[e] && "parent" === M[e].resizeFrom && M[e].autoResize && !M[e].firstRun;
      }(e) || B(n, i, M[e].iframe, e);
    });
  }

  function y() {
    z(window, "message", n), z(window, "resize", function () {
      !function (e) {
        R("window", "Trigger event: " + e), c(function () {
          f("Window " + e, "resize");
        }, 16);
      }("resize");
    }), z(document, "visibilitychange", u), z(document, "-webkit-visibilitychange", u);
  }

  function q() {
    function i(e, n) {
      n && (function () {
        if (!n.tagName) throw new TypeError("Object is not a valid DOM element");
        if ("IFRAME" !== n.tagName.toUpperCase()) throw new TypeError("Expected <IFRAME> tag, found <" + n.tagName + ">");
      }(), d(n, e), t.push(n));
    }

    var t;
    return function () {
      var e,
          n = ["moz", "webkit", "o", "ms"];

      for (e = 0; e < n.length && !r; e += 1) r = window[n[e] + "RequestAnimationFrame"];

      r ? r = r.bind(window) : R("setup", "RequestAnimationFrame not supported");
    }(), y(), function (e, n) {
      switch (t = [], function (e) {
        e && e.enablePublicMethods && E("enablePublicMethods option has been removed, public methods are now always available in the iFrame");
      }(e), typeof n) {
        case "undefined":
        case "string":
          Array.prototype.forEach.call(document.querySelectorAll(n || "iframe"), i.bind(l, e));
          break;

        case "object":
          i(e, n);
          break;

        default:
          throw new TypeError("Unexpected data type (" + typeof n + ")");
      }

      return t;
    };
  }
}();
const onIframeLoaded = () => {
  iFrameResize({
    log: true,
    scroll: true,
    checkOrigin: ['https://mous.freshdesk.com'],
    onMessage: ({
      message
    }) => {
      if (message == 'scrollToTop') {
        window.scrollTo(0, 0);
      }
    }
  });
};

const loadIframe = page => {
  const iframeWrapper = document.querySelector('[help="freshdesk-iframe"]');
  const iframe = document.createElement('iframe');

  switch (page) {
    case 'help':
      iframe.src = 'https://mous.freshdesk.com/support/home';
      break;

    case 'get-in-touch':
      const queryString = window.location.search;
      const urlParams = new URLSearchParams(queryString);
      const reason = urlParams.get('reason');

      if (reason === 'cancel-order') {
        const email = urlParams.get('email') || '';
        const name = urlParams.get('name') || '';
        const orderNumber = urlParams.get('ordernum') || '';
        iframe.src = `https://mous.freshdesk.com/support/tickets/new?reason=cancel-order&email=${email}&name=${name}&ordernum=${orderNumber}`;
      } else {
        iframe.src = 'https://mous.freshdesk.com/support/tickets/new';
      }

      break;
  }

  iframe.width = '100%';
  iframe.frameBorder = '0';
  iframe.classList.add('freshdesk-iframe');
  iframe.setAttribute('onload', 'onIframeLoaded()');
  iframeWrapper.appendChild(iframe);
};

document.addEventListener('DOMContentLoaded', () => {
  if (!window.location.href.includes('help') && !window.location.href.includes('get-in-touch')) {
    return;
  }

  let page;

  if (window.location.href.includes('help')) {
    page = 'help';
  } else if (window.location.href.includes('get-in-touch')) {
    page = 'get-in-touch';
  }

  loadIframe(page);
});